<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FoodReconnect - Reduce Food Waste</title>
  <link rel="stylesheet" href="styles.css">

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-4MXERW64H1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-4MXERW64H1');
  </script>
</head>
<body>
  <!-- Navigation -->
  <header class="header">
    <nav class="nav">
      <a href="/" class="logo">
        <svg viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m3-5.5L12 7.58 9 14.5l3-1.5z"/></svg>
        FoodReconnect
      </a>
      <div class="nav-links">
        <a href="#browse">Browse Foods</a>
        <a href="about.html">About Us</a>
      </div>
    </nav>
  </header>

  <!-- Hero Section -->
  <section class="hero page" id="home-page">
    <div class="hero-content">
      <div class="tagline">Reduce Food Waste in Singapore</div>
      <h1>Connect Surplus Food with <span class="highlight">Hungry People</span></h1>
      <p>FoodReconnect helps event organizers quickly redistribute surplus food to nearby users, reducing waste and feeding communities.</p>
      <div class="hero-buttons">
        <button class="btn btn-primary" onclick="showPostFoodModal()">Post Surplus Food</button>
        <button class="btn btn-secondary" onclick="findNearbyFood()">Find Available Food Near You</button>
      </div>
    </div>
  </section>

  <!-- Available Food Section -->
  <section class="foods-section page" id="browse">
    <div class="section-header">
      <h2>Available Food Right Now</h2>
      <p>Check out these recently posted surplus food items</p>
    </div>
    <div class="food-grid" id="foodGrid">
      <!-- Food items will be dynamically loaded here -->
    </div>
  </section>

  <!-- Post Food Modal -->
  <div id="postFoodModal" class="modal">
    <div class="modal-content">
      <span class="close-btn" onclick="closeModal('postFoodModal')">&times;</span>
      <h2>Post Surplus Food</h2>
      <form id="postFoodForm">
        <div class="form-group">
          <label>Food Title</label>
          <input type="text" id="foodTitle" name="title" required />
        </div>
        <div class="form-group">
          <label>Category</label>
          <select id="foodCategory" name="category" required>
            <option value="">Select Category</option>
            <option value="Buffet">Buffet</option>
            <option value="Desserts">Desserts</option>
            <option value="Sandwiches">Sandwiches</option>
            <option value="Beverages">Beverages</option>
            <option value="Appetizers">Appetizers</option>
            <option value="Main Course">Main Course</option>
          </select>
        </div>
        <div class="form-group">
          <label>Description</label>
          <textarea id="foodDescription" name="description" required></textarea>
        </div>
        <div class="form-group">
          <label>Cuisine Type</label>
          <input type="text" id="cuisineType" name="cuisine_type" placeholder="e.g., Indian, Chinese, Western" />
        </div>
        <div class="form-group">
          <label>Estimated Servings</label>
          <input type="number" id="servings" name="servings" min="1" required />
        </div>
        <div class="form-group">
          <label>Best Before (Time)</label>
          <input type="datetime-local" id="bestBefore" name="best_before" required />
        </div>
        <div class="form-group">
          <label>Pickup Location</label>
          <input type="text" id="pickupLocation" name="location" placeholder="Enter address" required />
          <button type="button" class="location-btn" onclick="getCurrentLocation()">Use Current Location</button>
        </div>
        <div class="form-group">
          <label>Image Upload (optional)</label>
          <input type="file" id="foodImage" name="foodImage" accept="image/*" capture="environment" />
        </div>
        <div class="form-group">
          <label>WhatsApp Number</label>
          <input type="tel" id="whatsappNumber" name="whatsapp_number" placeholder="+65..." required />
        </div>
        <button type="submit" class="btn btn-primary" style="width: 100%;">Post Food</button>
      </form>
    </div>
  </div>

  <!-- Request Pickup Modal -->
  <div id="pickupModal" class="modal">
    <div class="modal-content">
      <span class="close-btn" onclick="closeModal('pickupModal')">&times;</span>
      <h2>Request Food Pickup</h2>
      <p id="pickupFoodTitle"></p>
      <label for="pickupQuantity">How many servings would you like to pick up?</label>
      <input type="number" id="pickupQuantity" min="1" required />
      <button class="btn btn-primary" onclick="confirmPickup()">Confirm & Message via WhatsApp</button>
    </div>
  </div>

  <!-- Notifications -->
  <div id="notification" class="notification"></div>

  <script src="scripts.js" defer></script>
</body>
</html>
